@model IEnumerable<HomeworkWeek1.Models.客戶銀行資訊>
@using PagedList;
@using PagedList.Mvc;
<link href="~/Content/PagedList.css" rel="stylesheet" />

@{
    ViewBag.Title = "客戶銀行資訊";
    string linkText = @ViewBag.Title;
}
@section breadcrumb {
    <li>@Html.ActionLink(linkText, "Index", "客戶銀行資訊")</li>
}

<h2>銀行帳戶資料</h2>

<p>
    @Html.ActionLink("新增銀行帳戶", "Create")
</p>
@{
    <a href="@Url.Action("ExportByNPOI", "客戶銀行資訊")" target="_blank">
        <img src="~/Content/Excel_48.png" alt="XLS" title="XLS" />
    </a>
}
@{
    var data = Model as IPagedList<HomeworkWeek1.Models.客戶銀行資訊>;
}
@Html.PagedListPager(list: data, generatePageUrl: page => Url.Action("Index", new { p = page }))
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.銀行名稱)
        </th>
        <th>
            @*@Html.DisplayNameFor(model => model.銀行代碼)*@
            @Html.ActionLink("銀行代碼", "Index", new { sortOrder = ViewBag.sort銀行代碼 })
        </th>
        <th>
            @Html.DisplayNameFor(model => model.分行代碼)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.帳戶名稱)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.帳戶號碼)
        </th>
        <th>
            @*@Html.DisplayNameFor(model => model.客戶資料.客戶名稱)*@
            @Html.ActionLink("客戶名稱", "Index", new { sortOrder = ViewBag.sort客戶名稱 })
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.銀行名稱)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.銀行代碼)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.分行代碼)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.帳戶名稱)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.帳戶號碼)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.客戶資料.客戶名稱)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.Id }) |
            @Html.ActionLink("Details", "Details", new { id=item.Id }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.Id })
        </td>
    </tr>
}
</table>
@Html.PagedListPager(list: data, generatePageUrl: page => Url.Action("Index", new { p = page }))